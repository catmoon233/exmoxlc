{
  "_fv": 57,
  "_type": "procedure",
  "definition": {
    "procedurexml": "<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"String\" id=\"entityid\">entityid</variable><variable type=\"Number\" id=\"damage\">damage</variable><variable type=\"Number\" id=\"attackDamage\">attackDamage</variable><variable type=\"Number\" id=\"quality\">quality</variable><variable type=\"Number\" id=\"attackSpeed\">attackSpeed</variable><variable type=\"Number\" id=\"pierce\">pierce</variable><variable type=\"Number\" id=\"hitratea\">hitratea</variable><variable type=\"Number\" id=\"defsgl\">defsgl</variable><variable type=\"Number\" id=\"shdamage\">shdamage</variable><variable type=\"Boolean\" id=\"pda\">pda</variable><variable type=\"Boolean\" id=\"ispiercekill\">ispiercekill</variable><variable type=\"Boolean\" id=\"iseva\">iseva</variable><variable type=\"Boolean\" id=\"shanbi\">shanbi</variable></variables><block type=\"damagesource_from_type\" x=\"128\" y=\"-28\"><field name=\"damagetype\">GENERIC_KILL</field></block><block type=\"damagesource_from_deps\" x=\"611\" y=\"-9\"></block><block type=\"event_trigger\" deletable=\"false\" x=\"95\" y=\"62\"><field name=\"trigger\">entity_pre_hurt</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"damagesource_isequalto\"><field name=\"damagetype\">GENERIC_KILL</field><value name=\"damagesource\"><block type=\"damagesource_from_deps\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_entity_compare\"><field name=\"entity\">EntityPlayer</field><value name=\"compareTo\"><block type=\"source_entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"java_code\"><field name=\"CODE\">if (AttackcancleProcedure.execute(sourceentity)){</field><next><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pda</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"java_code\"><field name=\"CODE\">}</field></block></next></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"entity_health\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"entity_health\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"entity_health\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"entity_health_max\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.1</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">DyingLight</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"world_play_sound_on_serverside\"><field name=\"sound\">item.totem.use</field><field name=\"soundcategory\">neutral</field><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"pitch\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><next><block type=\"spawn_particle_multi\"><field name=\"particle\">END_ROD</field><value name=\"count\"><block type=\"math_number\"><field name=\"NUM\">30</field></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><value name=\"dx\"><block type=\"math_number\"><field name=\"NUM\">3</field></block></value><value name=\"dy\"><block type=\"math_number\"><field name=\"NUM\">3</field></block></value><value name=\"dz\"><block type=\"math_number\"><field name=\"NUM\">3</field></block></value><value name=\"speed\"><block type=\"math_number\"><field name=\"NUM\">0.7</field></block></value><next><block type=\"cancel_event\"><next><block type=\"set_attribute\"><field name=\"attribute\">MAX_HEALTH</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"value\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">MAX_HEALTH</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">2</field></block></value></block></value><next><block type=\"entity_add_potion_advanced\"><field name=\"potion\">ABSORPTION</field><value name=\"level\"><block type=\"math_singular_ops\"><field name=\"OP\">ROUND</field><value name=\"NUM\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">DyingLight</field></block></value></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">MAX_HEALTH</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.1</field></block></value></block></value></block></value></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">9999999</field></block></value><value name=\"ambient\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"particles\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"entity_set_health\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"health\"><block type=\"entity_health_max\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><next><block type=\"entity_nbt_num_set\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">DyingLight</field></block></value><value name=\"tagValue\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">DyingLight</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:Hitrate</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:hitratea</field><value name=\"VAL\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Hitrate</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></statement><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:Evasion</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Evasion</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:hitratea</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:iseva</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"math_binary_ops\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:hitratea</field></block></value><value name=\"B\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Evasion</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"entity_add_potion\"><field name=\"potion\">SLOWNESS</field><value name=\"level\"><block type=\"math_singular_ops\"><field name=\"OP\">ROUND</field><value name=\"NUM\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:hitratea</field></block></value><value name=\"B\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Evasion</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.1</field></block></value></block></value></block></value><value name=\"duration\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:hitratea</field></block></value><value name=\"B\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Evasion</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">2</field></block></value></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></statement><next><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:iseva</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:iseva</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"85\" w=\"293\">This example will test if the random number is less than 0.7 (70%). Random numbers range between (0.0 and 1.0). If it is true, then it will run what is in the \"do\" section of the if statement.</comment><value name=\"IF0\"><block type=\"variables_get_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:iseva</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Evasion</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:hitratea</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:iseva</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:shanbi</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"cancel_event\"><next><block type=\"spawn_particle_multi\"><field name=\"particle\">SMOKE_LARGE</field><value name=\"count\"><block type=\"math_number\"><field name=\"NUM\">20</field></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"coord_y\"></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><value name=\"dx\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"dy\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"dz\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"speed\"><block type=\"math_number\"><field name=\"NUM\">0.1</field></block></value><next><block type=\"entity_send_chat\"><value name=\"text\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\"><field name=\"TEXT\">你躲避了一次</field></block></value><value name=\"ADD1\"><block type=\"entity_name\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"ADD2\"><block type=\"text\"><field name=\"TEXT\">的攻击</field></block></value></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"actbar\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"entity_send_chat\"><value name=\"text\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"entity_name\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"ADD1\"><block type=\"text\"><field name=\"TEXT\">躲避了一次你的攻击</field></block></value></block></value><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value><value name=\"actbar\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_binary_ops\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"logic_entity_compare\"><field name=\"entity\">EntityPlayer</field><value name=\"compareTo\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></value><value name=\"B\"><block type=\"variables_get_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pda</field></block></value></block></value><value name=\"B\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"variables_get_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:shanbi</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:entityid</field><value name=\"VAL\"><block type=\"java_code_get\"><field name=\"CODE\">EntityType.getKey(entity.getType()).toString();</field></block></value><next><block type=\"java_code\"><field name=\"CODE\">if (sourceentity instanceof LivingEntity) {&amp;#10;    LivingEntity livingEntity = (LivingEntity) sourceentity;&amp;#10;    ItemStack heldItemStack = livingEntity.getItemBySlot(EquipmentSlot.MAINHAND); // 获取主手中的物品&amp;#10;&amp;#10;    if (!heldItemStack.isEmpty()) {&amp;#10;        Item heldItem = heldItemStack.getItem();&amp;#10;        // 这是获取攻击伤害的属性值的途径&amp;#10;        attackDamage = heldItemStack.getAttributeModifiers(EquipmentSlot.MAINHAND)&amp;#10;                                        .get(Attributes.ATTACK_DAMAGE)&amp;#10;                                        .stream()&amp;#10;                                        .mapToDouble(attributeModifier -&gt; attributeModifier.getAmount())&amp;#10;                                        .sum();&amp;#10;&amp;#10;        // 这里只是为了获取基础伤害&amp;#10;        // 如果你想要实际的伤害（包括附魔等影响），你可能需要更复杂的逻辑&amp;#10;&amp;#10;        // 这里输出攻击伤害的值&amp;#10;    }&amp;#10;}</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:entityid</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">dummmmmmy:target_dummy</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" collapsed=\"true\"><value name=\"IF0\"><block type=\"item_nbt_logic_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">isroll</field></block></value></block></value><statement name=\"DO0\"><block type=\"item_nbt_num_set\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">xp</field></block></value><value name=\"tagValue\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">xp</field></block></value></block></value><value name=\"B\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">quality</field></block></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">xp</field></block></value></block></value><value name=\"B\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">xpneed</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:quality</field><value name=\"VAL\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">quality</field></block></value></block></value><next><block type=\"item_nbt_num_set\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">level</field></block></value><value name=\"tagValue\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">level</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><next><block type=\"item_nbt_num_set\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">xp</field></block></value><value name=\"tagValue\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:shdamage</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">quality</field></block></value></block></value><value name=\"B\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:attackDamage</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.2</field></block></value></block></value><next><block type=\"java_code\"><field name=\"CODE\">                    AttributeModifier qhmor = new AttributeModifier(UUID.fromString(\"164aba86-cce2-432a-b123-0669ce5ee6df\"),\"等级伤害加成\",shdamage, AttributeModifier.Operation.ADDITION);&amp;#10;                    if (ChangeattrProcedure.hasAttributeModifierCompoundTag((sourceentity instanceof LivingEntity _livEnt ? _livEnt.getMainHandItem() : ItemStack.EMPTY),Attributes.ATTACK_DAMAGE,qhmor, net.minecraft.world.entity.EquipmentSlot.MAINHAND)) {&amp;#10;                 CompoundTag oldcompoundTag = ChangeattrProcedure.getAttributeModifierCompoundTag(Attributes.ATTACK_DAMAGE,qhmor, EquipmentSlot.MAINHAND);&amp;#10;                        AttributeModifier oldattr = ChangeattrProcedure.getAttributeModifierFromCompoundTag(oldcompoundTag);&amp;#10;                        double oldvalueofattr = oldattr.getAmount();&amp;#10;                        qhmor = new AttributeModifier(UUID.fromString(\"164aba86-cce2-432a-b123-0669ce5ee6df\"),\"等级伤害加成\",shdamage + oldvalueofattr, AttributeModifier.Operation.ADDITION);&amp;#10;                        ChangeattrProcedure.removeAttributeModifier((sourceentity instanceof LivingEntity _livEnt ? _livEnt.getMainHandItem() : ItemStack.EMPTY), Attributes.ATTACK_DAMAGE, qhmor, EquipmentSlot.MAINHAND);&amp;#10;                        ChangeattrProcedure.addItemAttributeModifier((sourceentity instanceof LivingEntity _livEnt ? _livEnt.getMainHandItem() : ItemStack.EMPTY), Attributes.ATTACK_DAMAGE, qhmor, EquipmentSlot.MAINHAND);&amp;#10;&amp;#10;                    }&amp;#10;                    else {&amp;#10;                        ChangeattrProcedure.addItemAttributeModifier((sourceentity instanceof LivingEntity _livEnt ? _livEnt.getMainHandItem() : ItemStack.EMPTY), Attributes.ATTACK_DAMAGE, qhmor, EquipmentSlot.MAINHAND);&amp;#10;                    }</field><next><block type=\"entity_send_chat\"><value name=\"text\"><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><block type=\"text\"><field name=\"TEXT\"></field></block></value><value name=\"ADD1\"><block type=\"item_name\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></value><value name=\"ADD2\"><block type=\"text\"><field name=\"TEXT\">我升级了，当前等级:§a§l</field></block></value><value name=\"ADD3\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">level</field></block></value></block></value></block></value><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value><value name=\"actbar\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"item_nbt_num_set\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">xpneed</field></block></value><value name=\"tagValue\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">xpneed</field></block></value></block></value><value name=\"B\"><block type=\"item_nbt_num_get\"><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">level</field></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"itemstack_has_enchantment\"><field name=\"enhancement\">CUSTOM:Bloodthirsty</field><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"entity_add_potion_advanced\"><field name=\"potion\">REGENERATION</field><value name=\"level\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"B\"><block type=\"entity_potioneffectlevel\"><field name=\"potion\">REGENERATION</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">40</field></block></value><value name=\"ambient\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"particles\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value><next><block type=\"entity_add_potion_advanced\"><field name=\"potion\">SPEED</field><value name=\"level\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"B\"><block type=\"entity_potioneffectlevel\"><field name=\"potion\">SPEED</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">40</field></block></value><value name=\"ambient\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"particles\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"itemstack_has_enchantment\"><field name=\"enhancement\">CUSTOM:FocusImpact</field><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">4</field></block></value><value name=\"B\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:attackSpeed</field></block></value></block></value><value name=\"B\"><block type=\"item_get_enhancement\"><field name=\"enhancement\">CUSTOM:FocusImpact</field><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">2</field></block></value></block></value></block></value></block></statement><next><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"custom_dependency_number\"><field name=\"NAME\">amount</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">assassin</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.5</field></block></value></block></value><statement name=\"DO0\"><block type=\"entity_add_potion\"><field name=\"potion\">INVISIBILITY</field><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">180</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"move_entity\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"x\"><block type=\"entity_pos_x\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"y\"><block type=\"entity_pos_y\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"z\"><block type=\"entity_pos_z\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></next></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:Pierce</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field><value name=\"VAL\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Pierce</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:CRIT</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"85\" w=\"293\">This example will test if the random number is less than 0.7 (70%). Random numbers range between (0.0 and 1.0). If it is true, then it will run what is in the \"do\" section of the if statement.</comment><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:CRIT</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Critdamage</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Critdamage</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value></block></value><next><block type=\"entity_send_chat\"><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">§6§l你造成了一次暴击</field></block></value><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value><value name=\"actbar\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"entity_execute_command\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"command\"><block type=\"text\"><field name=\"TEXT\">particle minecraft:explosion ~ ~1 ~ 0 0 0 0.3 1</field></block></value></block></next></block></next></block></next></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:Mianshan</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Mianshan</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Mianshan</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Mianshan</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field><value name=\"VAL\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></next></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"entity_iscreative\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"entity_health\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"entity_set_health\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"health\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"entity_health\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:pierce</field></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:ispiercekill</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:Rebound</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:Reboundlv</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Rebound</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"variables_get_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"true\" has_entity=\"true\"></mutation><field name=\"VAR\">global:wearonxumiring</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:defsgl</field><value name=\"VAL\"><block type=\"math_number\"><field name=\"NUM\">50</field></block></value></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"85\" w=\"293\">This example will test if the random number is less than 0.7 (70%). Random numbers range between (0.0 and 1.0). If it is true, then it will run what is in the \"do\" section of the if statement.</comment><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Reboundlv</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:defsgl</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"deal_damage\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value><value name=\"damagesource\"><block type=\"damagesource_from_deps\"></block></value><value name=\"amount\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Rebound</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"entity_haspotioneffect\"><field name=\"potion\">CUSTOM:Yishang</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"entity_potioneffectlevel\"><field name=\"potion\">CUSTOM:Yishang</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value></block></statement><next><block type=\"set_dmg_to\"><value name=\"amount\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"entity_isalive\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"variables_get_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:ispiercekill</field></block></value><statement name=\"DO0\"><block type=\"entity_execute_command\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"command\"><block type=\"text\"><field name=\"TEXT\">kill</field></block></value></block></statement></block></statement><next><block type=\"java_code\"><field name=\"CODE\">}else{</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"variables_get_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:shanbi</field></block></value></block></value><statement name=\"DO0\"><block type=\"entity_send_chat\"><value name=\"text\"><block type=\"text\"><field name=\"TEXT\">以你的能力无法使用此物</field></block></value><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value><value name=\"actbar\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"cancel_event\"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></statement></block></next></block></statement></block></next></block><block type=\"controls_if\" x=\"770\" y=\"58\"><value name=\"IF0\"><block type=\"procedure_retval_logic\"><field name=\"procedure\">Attackcancle</field></block></value><next><block type=\"controls_if\"></block></next></block><block type=\"math_dual_ops\" x=\"-179\" y=\"149\"><field name=\"OP\">ADD</field></block><block type=\"logic_negate\" x=\"-215\" y=\"200\"></block><block type=\"math_number\" x=\"-321\" y=\"407\"><field name=\"NUM\">0.7</field></block><block type=\"controls_if\" x=\"1295\" y=\"589\"><value name=\"IF0\"><block type=\"damagesource_isequalto\"><field name=\"damagetype\">CUSTOM:Piercedamage</field><value name=\"damagesource\"><block type=\"damagesource_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Defense</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value></block></statement></block><block type=\"controls_if\" x=\"993\" y=\"951\"><comment pinned=\"false\" h=\"85\" w=\"293\">This example will test if the random number is less than 0.7 (70%). Random numbers range between (0.0 and 1.0). If it is true, then it will run what is in the \"do\" section of the if statement.</comment><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Evasion</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:hitratea</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value></block></value></block></value><value name=\"B\"><block type=\"variables_get_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:iseva</field></block></value></block></value></block><block type=\"add_item_modifier\" x=\"1160\" y=\"1625\"><field name=\"attribute\">ATTACK_DAMAGE</field><field name=\"slot\">MAINHAND</field><value name=\"modifier\"><block type=\"create_new_modifier\"><field name=\"operation\">ADDITION</field><value name=\"modifierid\"><block type=\"text\"><field name=\"TEXT\">53bfa816-d0ce-4064-b700-f0403c0a7636</field></block></value><value name=\"name\"><block type=\"text\"><field name=\"TEXT\">武器基础攻击伤害</field></block></value><value name=\"value\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.2</field></block></value></block></value></block></value><value name=\"item\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block><block type=\"controls_if\" x=\"1471\" y=\"1719\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"damagesource_isequalto\"><field name=\"damagetype\">CUSTOM:Piercedamage</field><value name=\"damagesource\"><block type=\"damagesource_from_deps\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:Pierce</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"85\" w=\"293\">This example will test if the random number is less than 0.7 (70%). Random numbers range between (0.0 and 1.0). If it is true, then it will run what is in the \"do\" section of the if statement.</comment><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Pierce</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"deal_damage\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"damagesource\"><block type=\"damagesource_from_type\"><field name=\"damagetype\">CUSTOM:Piercedamage</field></block></value><value name=\"amount\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Pierce</field><value name=\"entity\"><block type=\"source_entity_from_deps\"></block></value></block></value></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"has_attribute\"><field name=\"attribute\">CUSTOM:Defense</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Defense</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field></block></value><value name=\"B\"><block type=\"get_attribute_whole\"><field name=\"attribute\">CUSTOM:Defense</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:damage</field><value name=\"VAL\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></statement></block></statement></block></next></block></statement></block><block type=\"entity_execute_command\" x=\"1136\" y=\"2075\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"command\"><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><block type=\"text\"><field name=\"TEXT\">summon text_display </field></block></value><value name=\"ADD1\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"entity_pos_x\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_random_number_between\"><value name=\"min\"><block type=\"math_number\"><field name=\"NUM\">-0.5</field></block></value><value name=\"max\"><block type=\"math_number\"><field name=\"NUM\">0.5</field></block></value></block></value></block></value><value name=\"ADD2\"><block type=\"text\"><field name=\"TEXT\"> ~</field></block></value><value name=\"ADD3\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"entity_size_height\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.75</field></block></value></block></value><value name=\"ADD4\"><block type=\"text\"><field name=\"TEXT\"> </field></block></value><value name=\"ADD5\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"entity_pos_z\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_random_number_between\"><value name=\"min\"><block type=\"math_number\"><field name=\"NUM\">-0.5</field></block></value><value name=\"max\"><block type=\"math_number\"><field name=\"NUM\">0.5</field></block></value></block></value></block></value><value name=\"ADD6\"><block type=\"text\"><field name=\"TEXT\"> {Tags:[\"sh\"],text:\"{\\\"text\\\":\\\"</field></block></value><value name=\"ADD7\"><block type=\"text\"><field name=\"TEXT\">暴击!</field></block></value><value name=\"ADD8\"><block type=\"text\"><field name=\"TEXT\">\\\",\\\"color\\\":\\\"red\\\",\\\"bold\\\":true}\", alignment:\"center\", background:0, default_background:false, line_width:200, see_through:false, shadow:true, text_opacity:-1,duration:60,billboard:vertical,see_through:true,motion:[0.0,-0.1,0.0]}</field></block></value></block></value></block><block type=\"java_code\" x=\"427\" y=\"3503\"><field name=\"CODE\">}</field></block><block type=\"math_number\" x=\"691\" y=\"3815\"><field name=\"NUM\">1</field></block></xml>"
  }
}